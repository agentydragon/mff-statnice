\subsection{Bezpeènost -- IPSec, principy fungování AH, ESP, transport mode, tunnel mode, firewalls}

\subsubsection*{IPSec}

\begin{pitemize}
	\item Není to pouze jeden protokol ale soustava vzájemnì provázanıch opatøení a dílèích protokolù pro zabezpeèení komunikace pomocí IP protokolu, funguje na síové vrstvì -- není závislı na protokolech vyšších vrstev jako je TCP a UDP (napø. SSL protokol pracuje na transportní vrstvì)
	\item Podporováno jak v IPv4 (podpora nepovinná) i v IPv6 (podpora povinná)
	\item Zajišuje dùvìrnost (šifruje pøenášená data) a integritu (data nejsou pøi pøenosu zmìnìna)
	\item nìkolik desítek RFC dokumentù
	\item autentifikace -- ovìøení pùvodu dat (odesílatele)
	\item kryptování -- šifrování komunikace (mimo IP hlavièky)
	\item mùe bıt implementováno na bránì (security gateway, lokální sí je povaována za bezpeènou) nebo na koncovıch zaøízení 

	\item \textbf{SA (Security Association)}
	\begin{pitemize}
		\item point-to-point bezpeènostní spoj (návrh uvauje i o jinıch variantách)
		\item pro kadı smìr a kadı prototokol nutné mít vlastní SA spoj
	\end{pitemize}
\end{pitemize}

IPsec módy:
\begin{pitemize}
	\item \textbf{transport mode}
	\begin{pitemize}
		\item IP hlavièka nechránìná (jeden z dùvodù je uívání systému NAT), tìlo paketu šifrováno (data vyšších protokolù)
		\item pouitelné jen na koncovıch stanicích 
	\end{pitemize}
	\item \textbf{tunnel mode}
	\begin{pitemize}
		\item pakety jsou celé (vèetnì hlavièky) zašifrovány a vloeny do dalšího paketu, na druhé stranì rozbaleny
		\item povinné pro security gateways, volitelné pro koncové stanice
		\item ve vnìjší IP hlavièce se jako pøíjemce uvádí security gateway na hranici cílové sítì 
	\end{pitemize}
\end{pitemize}

IPsec protokoly:
\begin{pitemize}
	\item \textbf{AH (Authentication Header)}
	\begin{pitemize}
		\item komunikující strany se dohodnou na klíèi
		\item k datùm se pøipojuje hash
		\item chrání také pøed replay attack
		\item provádí autentizaci a kontrolu zmìny dat, neprovádí šifrování 
	\end{pitemize}
	\item \textbf{ESP (Encapsulating Security Payload)}
	\begin{pitemize}
		\item provádí autentizaci a také šifruje obsah
		\item pro šifrování pouívá 3DES, Blowfish aj. (pùvodnì DES, ji není povaováno za bezpeèné) 
	\end{pitemize}
\end{pitemize}

Dohoda klíèù:
\begin{pitemize}
	\item pøed pouitím protokolu AH èi ESP si musí strany dohodnout klíèe
	\item manuální konfigurace
	\item automatická konfigurace -- IKE (Internet Key Exchange) protokol 
\end{pitemize}

\subsubsection*{Firewally}
\begin{pitemize}
	\item sledování a filtrování komunikace na síti
	\begin{pitemize}
		\item blokování -- zabraòuje neoprávnìnému pøístupu
		\item prostupnost -- propouštìní povoleného toku 
	\end{pitemize}
	\item paketové filtry -- napø. na routeru
	\item stavovı firewall (stateful) -- sleduje vztahy mezi pakety, ohlíí se na historii
	\item na rùznıch vrstvách
	\begin{pitemize}
		\item síová -- pouze dle zdrojovıch a cílovıch adres a protokolu
		\item transportní -- také podle portù
		\item aplikaèní -- dle obsahu (dat) 
	\end{pitemize}
	\item demilitarizovaná zóna (DMZ):
	\begin{pitemize}
		\item jiné øešení bezpeènosti
		\item pøístup ven pouze pøes specializovaná zaøízení (proxy, brány), nelze pøímo -- platí pro oba smìry 
	\end{pitemize}
\end{pitemize}
