\subsection{Tøídy sloitosti P a NP, pøevoditelnost, NP-úplnost}

%TODO: doplnit, tohle asi nestaci na pohodovou zkousku (aspon podle toho co jsem vnimal, jsa svedek zkouseni u Dr. Yaghoba) -- chce to napr. nejaky priklad prevedeni jako delal Kucera, mozna jeste neco

\subsubsection*{Pøevoditelnost}

\begin{e}{Definice}{0}{0}
  \begin{pitemize}
  \item \textbf{Úloha}~-- Pro dané zadání (vstup, \emph{instanci úlohy}) najít vıstup s danımi vlastnostmi.
  \item \textbf{Optimalizaèní úloha}~-- Pro dané zadání najít optimální (vìtšinou
  nejmenší nebo nejvìtší) vıstup s danımi vlastnostmi.
  \item \textbf{Rozhodovací problém}~-- Pro dané zadání odpovìdìt ANO/NE. 
  \end{pitemize}
\end{e}

\begin{e}{Definice}{0}{pøevody mezi rozhodovacími problémy}
  Nech $A$, $B$ jsou dva rozhodovací problémy. Øíkáme, e $A$ je
  \textbf{polynomiálnì redukovatelnı (pøevoditelnı)} na $B$, pokud existuje
  zobrazení $f$ z mnoiny zadání problému $A$ do mnoiny zadání problému $B$ s
  následujícími vlastnostmi:
  \begin{pitemize}
    \item Nech $X$ je zadání problému $A$ a $Y$ zadání problému $B$, takové, e
    $f(X)=Y$. Potom je $X$ kladné zadání problému $A$ právì tehdy, kdy $Y$ je
    kladné zadání problému $B$.
    \item Nech $X$ je zadání problému $A$. Potom je zadání $f(X)$ problému $B$
    (deterministicky sekvenènì) zkonstruovatelné v polynomiálním èase vzhledem k
    velikosti $X$.
  \end{pitemize}
\end{e}

Jiná definice: Mìjme rozhodovací problém $A$, vısledek problém chápejme jako funkce $A(x)$ na vstupu $x$, pak problém $A$ je redukovatelnı na $B$ ($A \rightarrow B$) kdy $\forall A: B(f(x))=A(x)$ pro polynomiální $f$.
\medskip
Obì definice øíkají, e $B$ je \uv{aspoò tak tìkı}, jako $A$ (mùe ale bıt tìší!). Název je trochu zavádìjící -- neredukujeme na \emph{lehèí}, ale na \emph{tìší} problém. Platí ale, e pokud $B$ je polynomiálnì sloitı, je i $A$.


\begin{e}{Definice}{0}{3-SAT}
3-SAT (z anglického \uv{satisfiability}) je rozhodovací problém, kterı jako vstup dostane logickou formuli urèitého typu a rozhodne, zda je, nebo není splnitelná, tj. jestli existuje nìjaké její ohodnocení, které je pravdivé. Logická formule musí bıt typu CNF, tj.:

$$(a_1\vee b_1 \vee c_1) \wedge (a_2 \vee b_2 \vee c_2) .... \wedge (a_n \vee b_n \vee c_n),$$

kde $a_n, b_n, c_n$ jsou buï $x_i$ nebo $\neg x_i$ pro nìjaká $i=(1...k)$.
\end{e}

\begin{e}{Definice}{0}{3-COL}
3-COL, nebo také trojbarevnost grafu, je následující problém: dostanu graf a musím urèit, jestli jej lze obarvit tøemi barvami.
\end{e}

\begin{e}{Definice}{0}{Problém nezávislé mnoiny v grafu}
Problém nezávislé mnoiny v grafu:
Existuje v daném grafu velikosti $N$ nezávislá mnoina velikosti $K$?
\end{e}

\begin{e}{Vìta}{0}{0}
3-SAT $\rightarrow$ 3-COL

\begin{e}{Dùkaz}{0}{0}
Pro 3-SAT si udìláme grafík, kterı bude obarvitelnı $\Leftrightarrow$ 3-SAT má øešení.

Pravdu si budu v grafu reprezentovat jako bílou, nepravdu jako èernou, tøetí barva je pomocná.

Nejdøíve si udìlám \uv{konstrukt}, co mi pro kadou kombinaci tøí barev \uv{vrátí} logickı or.

\includegraphics[width=0.1\textwidth]{informatika/teoreticka_informatika/obrazky/3COL1}

Kdy do vıše uvedeného konstruktu jakoby \uv{vloím} do horní øádky barvy, odpovídající tøí pravdivostním hodnotám, nemùu spodní vrchol obarvit jinak, ne jako logickı or tøí barev. Tyto konstrukty mi budou slouit pro reprezentaci $(a \vee b \vee c)$.

\obrazekvpravominipage{informatika/teoreticka_informatika/obrazky/3COL2}{Celı graf}{fig:3col2}{0.5}{0.5}{

Udìlám si teï jeden støední bod ($C$ jako centrum -- viz obrázek \ref{fig:3col2}), k~nìmu pøidám nejdøív dva body $T$ a $F$ a potom pro kadou promìnnou pøidám dva body, reprezentující $x$ a $\neg x$ a spojím je dohromady a s~$C$. Ne zaènu pøidávat \uv{konstrukty} na vyhodnocování trojic, podívám se na vlastnosti. Musí platit:

\begin{itemize}
\item $C$, $T$ a $F$ musí mít kadá jinou barvu
\item pro všechny body musí $x$ nebo $\neg x$ $T$ barva a ta druhá $F$ barva
\end{itemize}

%\includegraphics[width=0.5\textwidth]{informatika/teoreticka_informatika/obrazky/3COL2}

BÚNO mùu øíct, e $C$ je šedivá, $T$ bílá a $F$ èerná, èerná mi vyjadøuje nepravdu, bílá pravdu. Potom za nì \uv{navìsím} ty konstrukty -- buï na $x$, nebo na $\neg x$, podle toho, která z nich ve trojici zrovna je --  a jejich spodní vrchol pøipojím $F$ vrchol (to \uv{vynucuje}, aby vrchol byl $T$). Na obrázku je formule $(\neg x_1 \vee \neg x_2 \vee \neg x_3)$.

Tento graf je obarvitelnı právì tehdy, kdy je formule splnitelná, a je sestavitelnı v~polynomiálním èase.
}
\end{e}
\end{e}

\obrazekvpravominipage{informatika/teoreticka_informatika/obrazky/3COL3}{Redukce}{fig:3col3}{0.5}{0.5}{
\begin{e}{Vìta}{0}{0}
3-COL $\rightarrow$ existence nezávislé mnoiny v grafu

\begin{e}{Dùkaz}{0}{0}

Graf zkopírujeme tøikrát pod sebe, kadá kopie bude reprezentovat jednu barvu. Budeme chtít pøesnì stejnì velkou mnoinu, jako je bodù v~pùvodnì obarvovaném grafu. Mám-li mnoinu, mám pak nutnì i obarvení.

Víc to snad ujasní obrázek \ref{fig:3col3}.

\end{e}

\end{e}
}

\begin{e}{Vìta}{0}{0}
existence nezávislé mnoiny v grafu $\rightarrow$ 3-SAT

\begin{e}{Dùkaz}{0}{0}
%V dùkazu ještì vyuiji toho, e 

Udìlám si formuli, která bude odpovídat grafu, následovnì:

\begin{itemize}
\item kadı vrchol $v \Rightarrow$ promìnná $x_v$
\item kadá hrana $v-w \Rightarrow$ klauzule $(\neg x_v \vee \neg x_w)$
\item pøidám klauzuli takovou, e bude splnìná právì, kdy $K$ promìnnıch je rovno 1. Budeme Kuèerovi vìøit, e se dá vytvoøit v~polynomiálním èase.
\end{itemize}

\end{e}

\end{e}

Dokázali jsme, e 3-SAT, 3-COL a nezávislá mnoina jsou ve stejné tøídì ekvivalence, jsou na sebe navzájem pøevoditelné. Pøeskoèím dopøedu a øeknu, e jde o tøídu NP a e ve stejné tøídì je spousta dalších problémù.

\subsubsection*{P, NP, NP-úplnost, NP-tìkost}

\begin{e}{Definice}{0}{tøída P}
 \textbf{Tøídu sloitosti P} (nìkdy té PTIME) tvoøí problémy øešitelné
 sekvenèními deterministickımi algoritmy v polynomiálním èase, tj. jejich èasová
 sloitost je $O(n^k)$. O algoritmech ve tøídì P také øíkáme, e jsou
 \textbf{efektivnì øešitelné.}
\end{e}

\begin{e}{Definice}{0}{tøída NP}
 \textbf{Tøída NP} (NPTIME) je tøída problémù øešitelnıch v polynomiálním èase
 sekvenèními nedeterministickımi algoritmy. \emph{(nedeterministické algoritmy samozøejmì na nekvantovıch poèítaèích nespustíme, a netuším, jak je to vlastnì s~tìmi kvantovımi)}

Jiná, ekvivalentní definice øíká, e jde o problémy, které s~polynomiálnì velkou nápovìdou ovìøíme v~polynomiálním èase.
\end{e}

\begin{e}{Pøíklad}{0}{0}
Jednoduchı pøíklad - SAT je NP problém, museli bychom vyzkoušet všechny monosti, co zvládneme v~polynomiálním èase nedeterministicky (v~kadém kroku máme všechny monosti pro jednotlivé promìnné). Pokud u ale máme dané, co je v~jednotlivıch promìnnıch, ovìøíme to v~polynomiálním èase deterministicky.

Trochu poetiètìjší a naprosto neexaktní a filosofickı pøíklad -- nikdo nevidíme do budoucnosti všechny monosti, co se nám naskıtají, take nemùeme øíct, jestli se nìco povede, nebo ne, protoe moností je pøíliš mnoho. Pokud hledíme do minulosti, je moné svoje èiny zhodnotit v~polynomiálním èase, ale do budoucnosti ne. Pokud bychom ovšem nemìli pøesnou informaci o tom, co se stane; v~tom pøípadì by bylo ovìøení taky polynomiální. :-)

\end{e}

\begin{e}{Poznámka}{0}{0}
 $P \subseteq NP$ -- deterministickı automat je vlastnì taky nedeterministickı.

  Neví se však, zda $P \neq NP$. Pøedpokládá se to,
  ale ještì to nikdo nedokázal. (Jde o tzv. Millenium Prize Problem)

Bylo by ovšem \emph{velmi} podivné, kdyby platil opak.
\end{e}

\obrazekvpravominipage{informatika/teoreticka_informatika/obrazky/PNP}{Vztah NP mnoin}{fig:PNP}{0.5}{0.5}{
%\includegraphics[width=0.5\textwidth]{informatika/teoreticka_informatika/obrazky/PNP}

\begin{e}{Definice}{0}{NP-tìkı problém}
  Problém $B$ je \textbf{NP-tìkı}, pokud pro libovolnı problém $A$ ze tøídy NP
  platí, e $A$ je polynomiálnì redukovatelnı na $B$.

\begin{e}{Poznámka}{0}{0}
NP-tìkı problém nemùe bıt P (resp. pokud by byl, potom by P=NP). Mùe a nemusí bıt NP (napø. halting problem není NP, ale kadı NP na nìj lze redukovat).
\end{e}
\end{e}
}
\begin{e}{Definice}{0}{NP-úplnı problém}
  Problém je \textbf{NP-úplnı}, pokud patøí do tøídy NP a je NP-tìkı.

\begin{e}{Poznámka}{0}{0}
NP-úplné problémy jsou nejtìší problémy v~NP.
%NP-úplné problémy se nám \uv{líbí} -- pokud u nìèeho ukáeme, e je NP-úplnı, víme, e je NP. Zároveò víme, e pokud u libovolného z~nich dokáeme, e je v~P, tak P=NP.
\end{e}
\end{e}

\begin{obecne}{Dùsledky}
  \begin{pitemize}
    \item Pokud je $A$ NP-tìkı a navíc je $A$ polynomiálnì redukovatelnı na $B$, tak je
      $B$ taky NP-tìkı.
    \item Pokud existuje polynomiální algoritmus pro nìjakı NP-tìkı problém, pak
      existují polynomiální algoritmy pro všechny problémy ve tøídì NP. (tedy P=NP)
  \end{pitemize}
\end{obecne}

\begin{e}{Vìta}{0}{Cook-Levin 1971}
 Existuje NP-úplnı problém. (Dokázáno pro SAT)
\end{e}


\begin{obecne}{Pøíklady problémù ze tøídy NP}
  \begin{pitemize}
    \item \textbf{KLIKA}(úplnı podgraf)~-- Je dán neorientovanı graf $G$ a èíslo
    $k$. Existuje v $G$ úplnı podgraf velikosti aspoò $k$? -- je zároveò NP-úplnı
    \item \textbf{HK}(Hamiltonovská krunice)~-- Je dán neorientovanı graf $G$.
    Existuje v $G$ Hamiltonovská krunice? (tj. krunice, ve které je kadı bod grafu právì jednou) -- je zároveò NP-úplnı
    \item \textbf{BATOH}(Souèet podmnoiny)~-- Jsou dána pøirozená èísla $a_1,
    \dots, a_n,b$. Existuje podmnoina èísel $a_1,\dots,a_n$, její souèet je
    pøesnì $b$? -- je zároveò NP-úplnı
    \item \textbf{Obchodní cestující} (rozhodovací verze) -- Existuje v daném úplném ohodnoceném grafu hamiltonovská krunice kratší ne $x$? -- NP-úplnı
        \item testování normálních forem v databázi, obarvení grafu, 3-SAT, celoèíselné lineární programování... -- NP úplnı
        \item testování isomorfismu grafù (jsou 2 grafy izomorfní?) -- \textbf{není} NP-úplnı, ale není P.
        \item testování isomorfismu subgrafù (existuje v~grafu B subgraf isomorfní s A?) -- u je NP-úplnı
        
  \end{pitemize}
\end{obecne}

\begin{e}{Report}{0}{Skopal} Skopal sa ma opytal na NP uplnost. Pocas pripravy som sa spytal Skopala, ci chce pocut aj o prevodoch problemov. Povedal ze ano, a pri tom pri skusani sa na to ani nespytal ani nic... takze som tam bol zbytocne dlhsie :) Skopalovi stacili definicie tried P a NP (tie co su vo vypiskoch, nie tie od Maresa), co je NP tazky a NP uplny problem. Spytal sa ma ci viem dokazat, ze SAT je NP uplny. To som fakt nevedel. za 2
\end{e}
\begin{e}{Report}{0}{z fora} 1. IF NP, potom je NP-tìkı? -Neplati

2. IF NP, potom, je NP-úplnı? -Neplati

3. IF NP-tìkı, potom je NP? -Neplati

4. IF NP-tìkı, potom je NP-úplnı? -Neplati

5. IF NP-úplnı, potom je NP -Plati

6. IF NP-úplnı, potom je NP-tìkımi pravidy -Plati

\end{e}
\begin{e}{Report}{0}{Yaghob} Poslední otázkou byla NP úplnost od pana Yaghoba. Popsal jsem jednu A4 vìtami, co jsou ve zpracovanıch materiálech, plus takové tvrzení, jak e se ukáe, e je problém NP úplnı (pøevodem). V podstatì k tomu nebylo, co dalšího napsat, jenom jsem byl pøi zadávání poádán o pøíklad pøevodu. Sice se mi nedaøilo ádnı sofistikovanı vymyslet, ale i tak jsem se pøihlásil o pozornost. V tuto chvíli u jsem tam byl 4 a pùl hodiny (první dvì zabrala první otázka) a ze šesti lidí u byli 3 vyhození a pøed dvìma minutami koneènì kdosi dostal tuším trojku a radostnì odešel. Take v této chvíli si pan Yaghob prostì proèetl ten papír (podotıkám, e velice pozornì) a zeptal se mì na nìjakı pøíklad pøevodu. Popsal jsem mu pøevod mezi problémem nejvìtší kliky v grafu a problémem nejvìtší nezávislé mnoiny (invertuju hrany a mám, e). Èekal jsem, e se zasmìje triviálnosti tohoto pøevodu a bude po mnì chtít ještì nìjakı, ale moná právì vzhledem k vıše popsané situaci mu to staèilo a s úsmìvem mi dal jednièku (!).
Nutno dodat, e na zaèátku vybíral otázku s ohledem na to, e u jsem dostal stránkování (prı "tak zkusíme nìco teoretiètìjšího") - to mì zachránilo od pøekladaèù a podobnıch vìcí.

\end{e}
\begin{e}{Report}{0}{Skopal} Tøídy sloitosti P, NP, NP-complete dr. Skopal mne nìkolikrát musel nakopnout správním smìrem :) Také jsem musel pøiznat, e nevím, jakım zpùsobem se pùvodnì dokázalo, e problém 3-SAT je NP-úplnı (tj. e všechny problémy z tøídy NP jsou na nìj polynomiálnì pøevoditelné) - odpovìï mìla znít nìjak ve smyslu, e to bylo dokázáno pomocí univerzálního Turingova stroje (ovšem ne-úplnì jsem to pochopil :)).
\end{e}
\begin{e}{Report}{0}{Hnetynka} P, NP, NP-uplnost, jak se dokazuje NP-uplnost (juhuu :) ) To jsem mel celkem dobre, ale byl jsem posledni a uz nade mnou stal i matousek a vrtali mi do toho :) Po chvilce toho nechali.
\end{e}
\begin{e}{Report}{0}{Kopeckı} P, NP, staèila Èepkova definice + pøevod HK na TSP a zpìt (zpìt jsem nevìdìl) 



\end{e}

