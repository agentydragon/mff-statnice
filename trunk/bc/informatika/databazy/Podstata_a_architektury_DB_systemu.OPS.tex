\subsection{Podstata a architektury DB systemù}

Zdroje: Wikipedie, slidy Dr. T. Skopala k Databázovım systémùm
\bigskip

\begin{e}{Definice}{0}{Databáze}
Databáze je logicky uspoøádaná (integrovaná) kolekce navzájem souvisejících dat. Je sebevysvìtlující, protoe data jsou uchovávána spoleènì s popisy, známımi jako metadata (také schéma databáze). Data jsou ukládána tak, aby na nich bylo moné provádìt strojové dotazy -- získat pro nìjaké parametry vyhovující podmnoinu záznamù.

Nìkdy se slovem \uv{databáze} myslí obecnì celı databázovı systém.
\end{e}

\begin{e}{Definice}{0}{Systém øízení báze dat}
Systém øízení báze dat (SØBD, anglicky database management system, DBMS) je obecnı softwarovı systém, kterı øídí sdílenı pøístup k databázi, a poskytuje mechanismy, pomáhající zajistit bezpeènost a integritu uloenıch dat. Spravuje databázi a zajišuje provádìní dotazù.
\end{e}

\begin{e}{Definice}{0}{Databázovı systém}
Databázovım systémem rozumíme trojici, sestávající z:
\begin{pitemize}
    \item databáze
    \item systému øízení báze dat
    \item chudáka admina
\end{pitemize}
\end{e}

\begin{obecne}{Smysl databází}
Hlavním smyslem databáze je schraòovat datové záznamy a informace za úèelem:
\begin{pitemize}
    \item sdílení dat více uivateli,
    \item zajištìní unifikovaného rozhraní a jazykù definice dat a manipulace s daty,
    \item znovuvyuitelnosti dat,
    \item bezespornosti dat a
    \item sníení objemu dat (odstranìní redundance).
\end{pitemize}
\end{obecne}

\subsubsection*{Databázové modely}

\begin{e}{Definice}{0}{schéma, model}
Typicky pro kadou databázi existuje strukturální popis druhù dat v ní udrovanıch, ten nazıváme \emph{schéma}. Schéma popisuje objekty reprezentované v databázi a vztahy mezi nimi. Je nìkolik monıch zpùsobù organizace schémat (modelování databázové struktury), známıch jako \emph{modely}. V modelu jde nejen o zpùsob strukturování dat, definuje se také sada operací nad daty proveditelná. Relaèní model napøíklad definuje operace jako \uv{select} nebo \uv{join}. I kdy tyto operace se nemusejí pøímo vyskytovat v dotazovacím jazyce, tvoøí základ, na kterém je jazyk postaven. Nejdùleitìjší modely v této sekci popíšeme.
\end{e}

\begin{e}{Poznámka}{0}{0}
Vìtšina databázovıch systémù je zaloena na jednom konkrétním modelu, ale èím dál èastìjší je podpora více pøístupù. Pro kadı logickı model existuje více fyzickıch pøístupù implementace a vìtšina systémù dovolí uivateli nìjakou úroveò jejich kontroly a úprav, protoe toto má velkı vliv na vıkon systému. Pøíkladem nech jsou indexy, provozované nad relaèním modelem.
\end{e}

\begin{obecne}{\uv{Plochı} model}
Toto sice nevyhovuje úplnì definici modelu, pøesto se jako triviální pøípad uvádí. Pøedstavuje jedinou dvoudimensionální tabulku, kde data v jednom sloupci jsou povaována za popis stejné vlastnosti (take mají podobné hodnoty) a data v jednom øádku se uvaují jako popis jediného objektu.
\end{obecne}

\begin{obecne}{Relaèní model}
Relaèní model je zaloen na predikátové logice a teorii mnoin. Vìtšina fyzicky implementovanıch databázovıch systémù ve skuteènosti pouívá jen aproximaci matematicky definovaného relaèního modelu. Jeho základem jsou \emph{relace} (dvoudimensionální tabulky), \emph{atributy} (jejich pojmenované sloupce) a \emph{domény} (mnoiny hodnot, které se ve sloupcích mùou objevit). Hlavní datovou strukturou je tabulka, kde se nachází informace o nìjaké konkrétní  tøídì entit. Kadá entita té tøídy je potom reprezentována øádkem v tabulce -- $n$-ticí atributù.

Všechny relace (tj. tabulky) musí splòovat základní pravidla -- poøadí sloupcù nesmí hrát roli, v tabulce se nesmí vyskytovat identické øádky a kadı øádek musí obsahovat jen jednu hodnotu pro kadı svùj atribut. Relaèní databáze obsahuje více tabulek, mezi kterımi lze popisovat vztahy (všech rùznıch kardinalit, tj. $1:1$, $1:n$ apod.). Vztahy vznikají i implicitnì napø. uloením stejné hodnoty jednoho atributu do dvou øádkù v tabulce. K tabulkám lze pøidat informaci o tom, která podmnoina atributù funguje jako \emph{klíè}, tj. unikátnì identifikuje kadı øádek, nìkterı z klíèù mùe bıt oznaèen jako primární. Nìkteré klíèe mùou mít nìjakı vztah k vnìjšímu svìtu, jiné jsou jen pro vnitøní potøeby schématu databáze (generovaná ID).
\end{obecne}

\begin{obecne}{Hierarchickı model}
V hierarchickém modelu jsou data organizována do stromové struktury -- kadı uzel má odkaz na nadøízenı (k popisu hierarchie) a setøídìné pole záznamù na stejné úrovni. Tyto struktury byly pouívány ve starıch mainframeovıch databázích, nyní je mùeme vidìt napø ve struktuøe XML dokumentù. Dovolují vztahy $1:N$ mezi dvìma druhy dat, co je velice efektivní k popisu rùznıch reálnıch vztahù (obsahy, øazení odstavcù textu, tøídìné informace). Nevıhodou je ale nutnost znát celou cestu k záznamu ve struktuøe a neschopnost systému reprezentovat redundance v datech (strom nemá cykly).
\end{obecne}

\begin{obecne}{Síovı model}
Síovı model organizuje data pomocí dvou hlavních prvkù, \emph{záznamù} a \emph{mnoin}. Záznamy obsahují pole dat, mnoiny definují vztahy $1:N$ mezi záznamy (jeden \emph{vlastník}, mnoho \emph{prvkù}). Záznam mùe bıt vlastníkem i prvkem v nìkolika rùznıch mnoinách. Jde vlastnì o variantu hierarchického modelu, protoe síovı model je také zaloen na konceptu více struktur niší úrovnì závislıch na strukturách úrovnì vyšší. U ale umoòuje reprezentovat i redundantní data. Operace nad tímto modelem probíhají \uv{navigaèním} stylem: program si uchovává svoji souèasnou pozici mezi záznamy a postupuje podle závislostí, ve kterıch se danı záznam náchází. Záznamy mohou bıt i vyhledávány podle klíèe. 

Fyzicky jsou vìtšinou mnoiny -- vztahy -- reprezentovány pøímo ukazateli na umístìní dat na disku, co zajišuje vysokı vıkon pøi vyhledávání, ale zvyšuje náklady na reorganizace. Smysl síové navigace mezi objekty se pouívá i v objektovıch modelech.
\end{obecne}

\begin{obecne}{Objektovı model}
Objektovı model je aplikací pøístupù známıch z objektovì-orientovaného programování. Je zaloen na sbliování programové aplikace a databáze, hlavnì ve smyslu pouití datovıch typù (objektù) definovanıch na jednom místì; ty zpøístupòuje k pouití v nìjakém bìném programovacím jazyce. Odstraní se tak nutnost zbyteènıch konverzí dat. Pøináší do databází také vìci jako zapouzdøení nebo polymorfismus. Problémem objektovıch modelù je neexistence standardù (nebo spíš produktù, které by je implementovaly).

Kombinací objektového a relaèního pøístupu vznikají \emph{objektovì-relaèní} databáze -- relaèní databáze, dovolující uivateli definovat vlastní datové typy a operace na nich. Obsahují pak hybrid mezi procedurálním a dotazovacím programovacím jazykem.

\end{obecne}


\subsubsection*{Architektury databázovıch systémù}

Zdroj: Wiki ÈVUT (státnice na FELu ;-))
\bigskip

Architektury databázovıch systémù se obecnì dìlí na 
\begin{pitemize}
    \item \emph{centralizované} (kde se databáze pøedpokládá fyzicky na jednom poèítaèi) a
    \item \emph{distribuované},
\end{pitemize}
pøípadnì na
\begin{pitemize}
    \item \emph{jednouivatelské} a
    \item \emph{víceuivatelské}.
\end{pitemize}

\begin{obecne}{Distribuované databázové systémy}
\emph{Distribuovanı systém øízení báze dat} je vlastnì speciálním pøípadem obecného distribuovaného vıpoèetního systému. Jeho implementace zahrnuje fyzické rozloení dat (vèetnì monıch replikací databáze) na více poèítaèù -- \emph{uzlù}, pøièem jejich popis je integrován v globálním databázovém schématu. Data v uzlech mohou bıt zpracovávána lokálními SØBD, komunikace je organizována v síovém provozu pomocí speciálního softwaru, kterı umí zacházet s distribuovanımi daty. Fyzicky se øeší rozloení do uzlù, svázanıch komunikaèními kanály, a jeho transparence (neviditelnost -- navenek se má tváøit jako jednolitı systém). Kadı uzel v síti je sám o sobì databázovı systém a z kadého uzlu lze zpøístupnit data kdekoliv v síti.

Dále se dìlí na dva typy:
\begin{pitemize}
    \item Federativní databáze -- neexistuje globální schéma ani centrální øídící autorita, øízení je také distribuované.
    \item Heterogenní databázové systémy -- jednotlivé autonomní SØBD existují (vznikly nezávisle na sobì) a jsou integrovány, aby spolu mohly komunikovat.
\end{pitemize}

Vıhodou oproti centralizovanım systémùm je vyšší efektivita (data mohou bıt uloena blízko místa nejèastìjšího pouívání), zvıšená dostupnost, vıkonnost a rozšiøitelnost; nevıhodou zùstává problém sloitosti implementace, distribuce øízení a niší bezpeènost takovıch øešení.
\end{obecne}

\begin{obecne}{Víceuivatelské databázové systémy}
\emph{Víceuivatelské} jsou takové systémy, které umoòují vícenásobnı uivatelskı pøístup k datùm ve stejném okamiku. V dùsledku moného souèasného pøístupu více uivatelù je nutné systém zabezpeèit tak, aby i nadále zajišoval integritu a konzistenci uloenıch dat. Existují obecnì dva moné pøístupy:
\begin{pitemize}
    \item Uzamykání -- Døíve èasto pouívaná metoda zaloená na uzamykání aktualizovanıch záznamù, v pøípadì masivního vyuití aktualizaèních pøíkazù u ní ale mùe docházet k znaènım prodlevám. 
    \item Multiversion Concurency Control -- Modernìjší vynález. Jeho princip spoèívá v tom, e pøi poadavku o aktualizaci záznamu v tabulce je vytvoøena kopie záznamu, která není pro ostatní uivatele a do provedeného commitu viditelná.
\end{pitemize}
\end{obecne}
