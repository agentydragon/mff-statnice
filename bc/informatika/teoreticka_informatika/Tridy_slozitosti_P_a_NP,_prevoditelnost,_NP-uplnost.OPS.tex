\subsection{Tøídy sloitosti P a NP, pøevoditelnost, NP-úplnost}

TODO: doplnit, tohle asi nestaci na pohodovou zkousku (aspon podle toho co jsem vnimal, jsa svedek zkouseni u Dr. Yaghoba) -- chce to napr. nejaky priklad prevedeni jako delal Kucera, mozna jeste neco

*\subsubsection{Pøevoditelnost}

\begin{e}{Definice}{0}{0}
  \begin{pitemize}
  \item \textbf{Úloha}~-- Pro dané zadání (vstup, \emph{instanci úlohy}) najít vıstup s danımi vlastnostmi.
  \item \textbf{Optimalizaèní úloha}~-- Pro dané zadání najít optimální (vìtšinou
  nejmenší nebo nejvìtší) vıstup s danımi vlastnostmi.
  \item \textbf{Rozhodovací problém}~-- Pro dané zadání odpovìdìt ANO/NE. 
  \end{pitemize}
\end{e}

\begin{e}{Definice}{0}{pøevody mezi rozhodovacími problémy}
  Nech $A$, $B$ jsou dva rozhodovací problémy. Øíkáme, e $A$ je
  \textbf{polynomiálnì redukovatelnı (pøevoditelnı)} na $B$, pokud existuje
  zobrazení $f$ z mnoiny zadání problému $A$ do mnoiny zadání problému $B$ s
  následujícími vlastnostmi:
  \begin{pitemize}
    \item Nech $X$ je zadání problému $A$ a $Y$ zadání problému $B$, takové, e
    $f(X)=Y$. Potom je $X$ kladné zadání problému $A$ právì tehdy, kdy $Y$ je
    kladné zadání problému $B$.
    \item Nech $X$ je zadání problému $A$. Potom je zadání $f(X)$ problému $B$
    (deterministicky sekvenènì) zkonstruovatelné v polynomiálním èase vzhledem k
    velikosti $X$.
  \end{pitemize}
\end{e}

Jiná definice: Mìjme rozhodovací algoritmus $A$, vısledek algoritmu chápejme jako funkce $A(x)$ na vstupu $x$, pak algoritmus $A$ je redukovatelnı na $B$ ($A \rightarrow B$) kdy $\forall A: B(f(x))=A(x)$ pro polynomiální $f$.
\medskip
Obì definice øíkají, e $B$ je \uv{aspoò tak tìkı}, jako $A$ (mùe ale bıt tìší!). Název je trochu zavádìjící -- neredukujeme na \emph{lehèí}, ale na \emph{tìší} algoritmus. Platí ale, e pokud $B$ je polynomiálnì sloitı, je i $A$.

Pøevoditelnost je kvaziuspoøádání -- je reflexivní a tranzitivní. Není ale symetrickı -- na to je potøeba vytvoøit tøídy sloitosti, ty potom symetrické jsou a nad nimi je pøevoditelnost uspoøádání.

\begin{e}{Definice}{0}{3-SAT}
 3-SAT (z anglického \uv{satisfiability}) je rozhodovací problém, kterı jako vstup dostane logickou formuli urèitého typu a rozhodne, zda je, nebo není splnitelná, tj. jestli existuje nìjaké její ohodnocení, které je pravdivé. Logická formule musí bıt následujícího typu:

$$(a_1\vee b_1 \vee c_1) \wedge (a_2 \vee b_2 \vee c_2) .... \wedge (a_n \vee b_n \vee c_n),$$

kde $a_n, b_n, c_n$ jsou buï $x_i$ nebo $\neg x_i$ pro nìjaká $i=(1...k)$.
\end{e}

\begin{e}{Definice}{0}{3-COL}
3-COL, nebo také trojbarevnost grafu, je následující problém: dostanu graf a musím urèit, jestli jej lze obarvit tøemi barvami.
\end{e}

\begin{e}{Definice}{0}{Problém nezávislé mnoiny v grafu}
Problém nezávislé mnoiny v grafu:
Existuje v daném grafu velikosti $N$ nezávislá mnoina velikosti $K$?
\end{e}

\begin{e}{Vìta}{0}{0}
3-SAT $\rightarrow$ 3-COL

\begin{e}{Dùkaz}{0}{0}
Pro 3-SAT si udìláme grafík, kterı bude obarvitelnı $\Leftrightarrow$ 3-SAT má øešení.

Pravdu si budu v grafu reprezentovat jako bílou, nepravdu jako èernou, tøetí barva je pomocná.

Nejdøíve si udìlám \uv{konstrukt}, co mi pro kadou kombinaci tøí barev \uv{vrátí} logickı or.

\includegraphics[width=0.1\textwidth]{informatika/teoreticka_informatika/obrazky/3COL1}

Kdy do vıše uvedeného konstruktu jakoby \uv{vloím} do horní øádky barvy, odpovídající tøí pravdivostním hodnotám, nemùu spodní vrchol obarvit jinak, ne jako logickı or tøí barev. Tyto konstrukty mi budou slouit pro reprezentaci $(a \vee b \vee c)$.

Udìlám si teï jeden støední bod ($C$ jako centrum -- viz další obrázek), k~nìmu pøidám nejdøív dva body $T$ a $F$ a potom pro kadou promìnnou pøidám dva body, reprezentující $x$ a $\neg x$ a spojím je dohromady a s~$C$. Ne zaènu pøidávat \uv{konstrukty} na vyhodnocování trojic, podívám se na vlastnosti. Musí platit:

\begin{itemize}
\item $C$, $T$ a $F$ musí mít kadá jinou barvu
\item pro všechny body musí $x$ nebo $\neg x$ $T$ barva a ta druhá $F$ barva
\end{itemize}

\includegraphics[width=0.5\textwidth]{informatika/teoreticka_informatika/obrazky/3COL2}

BÚNO mùu øíct, e $C$ je šedivá, $T$ bílá a $F$ èerná, èerná mi vyjadøuje nepravdu, bílá pravdu. Potom za nì \uv{navìsím} ty konstrukty -- buï na $x$, nebo na $\neg x$, podle toho, která z nich ve trojici zrovna je --  a jejich spodní vrchol pøipojím $F$ vrchol (to \uv{vynucuje}, aby vrchol byl $T$). Na obrázku je formule $(\neg x_1 \vee \neg x_2 \vee \neg x_3)$.

Tento graf je obarvitelnı právì tehdy, kdy je formule splnitelná, a je sestavitelnı v~polynomiálním èase.

\end{e}
\end{e}

\begin{e}{Vìta}{0}{0}
3-COL $\rightarrow$ existence nezávislé mnoiny v grafu

\begin{e}{Dùkaz}{0}{0}

Graf zkopírujeme tøikrát pod sebe, kadá kopie bude reprezentovat jednu barvu. Budeme chtít pøesnì stejnì velkou mnoinu, jako je bodù v~pùvodnì obarvovaném grafu. Mám-li mnoinu, mám pak nutnì i obarvení.

Víc to snad ujasní obrázek.

\includegraphics[width=0.5\textwidth]{informatika/teoreticka_informatika/obrazky/3COL2}

\end{e}

\end{e}


\begin{e}{Vìta}{0}{0}
existence nezávislé mnoiny v grafu $\rightarrow$ 3-SAT
\begin{e}{Dùkaz}{0}{0}
%V dùkazu ještì vyuiji toho, e 

Udìlám si formuli, která bude odpovídat grafu, následovnì:

\begin{itemize}
\item kadı vrchol $v \Rightarrow$ promìnná $x_v$
\item kadá hrana $v-w \Rightarrow$ klauzule $(\neg x_v \vee \neg x_w)$
\item pøidám klauzuli takovou, e bude splnìná právì, kdy $K$ promìnnıch je rovno 1. Budeme Kuèerovi vìøit, e se dá vytvoøit v~polynomiálním èase.
\end{itemize}

\end{e}

\end{e}

Dokázali jsme, e 3-SAT, 3-COL a nezávislá mnoina jsou ve stejné tøídì ekvivalence, jsou na sebe navzájem pøevoditelné. Pøeskoèím dopøedu a øeknu, e jde o tøídu NP a e ve stejné tøídì je spousta dalších problémù.

*\subsubsection{P, NP, NP-úplnost, NP-tìkost}



\begin{e}{Definice}{0}{tøída P}
 \textbf{Tøídu sloitosti P} (nìkdy té PTIME) tvoøí problémy øešitelné
 sekvenèními deterministickımi algoritmy v polynomiálním èase, tj. jejich èasová
 sloitost je $O(n^k)$. O algoritmech ve tøídì P také øíkáme, e jsou
 \textbf{efektivnì øešitelné.}
\end{e}

\begin{e}{Definice}{0}{tøída NP}
 \textbf{Tøída NP} (NPTIME) je tøída problémù øešitelnıch v polynomiálním èase
 sekvenèními nedeterministickımi algoritmy. \emph{(nedeterministické algoritmy samozøejmì na nekvantovıch poèítaèích nespustíme, a netuším, jak je to vlastnì s~tìmi kvantovımi)}

Jiná, ekvivalentní definice øíká, e jde o problémy, které s~polynomiálnì velkou nápovìdou ovìøíme v~polynomiálním èase.
\end{e}

\begin{e}{Pøíklad}{0}{0}
Jednoduchı pøíklad - SAT je NP problém, museli bychom vyzkoušet všechny monosti, co zvládneme v~polynomiálním èase nedeterministicky (v~kadém kroku máme všechny monosti pro jednotlivé promìnné). Pokud u ale máme dané, co je v~jednotlivıch promìnnıch, ovìøíme to v~polynomiálním èase deterministicky.

Trochu poetiètìjší a naprosto neexaktní a filosofickı pøíklad -- nikdo nevidíme do budoucnosti všechny monosti, co se nám naskıtají, take nemùeme øíct, jestli se nìco povede, nebo ne, protoe moností je pøíliš mnoho. Pokud hledíme do minulosti, je moné svoje èiny zhodnotit v~polynomiálním èase, ale do budoucnosti ne. Pokud bychom ovšem nemìli pøesnou informaci o tom, co se stane; v~tom pøípadì by bylo ovìøení taky polynomiální. :-)

\end{e}

\begin{e}{Poznámka}{0}{0}
 $P \subseteq NP$ -- deterministickı automat je vlastnì taky nedeterministickı.

  Neví se však, zda $P \neq NP$. Pøedpokládá se to,
  ale ještì to nikdo nedokázal. (Jde o tzv. Millenium Prize Problem)

Bylo by ovšem \emph{velmi} podivné, kdyby platil opak.
\end{e}

\includegraphics[width=0.5\textwidth]{informatika/teoreticka_informatika/obrazky/PNP}

\begin{e}{Definice}{0}{NP-tìkı problém}
  Problém $B$ je \textbf{NP-tìkı}, pokud pro libovolnı problém $A$ ze tøídy NP
  platí, e $A$ je polynomiálnì redukovatelnı na $B$.

\begin{e}{Poznámka}{0}{0}
Pokud se nám tedy povede nìjakı náš algoritmus redukovat na nìjakı NP-tìkı, víme, e je NP. Zde se ukazuje trochu dle mého neintuitivnost pojmu redukce -- redukujeme vdy \uv{lehèí} na \uv{tìší}.

NP-tìkı problém nemùe bıt P (resp. pokud by byl, potom by P=NP). Mùe a nemusí bıt NP (napø. halting problem není NP, ale kadı NP na nìj lze redukovat).
\end{e}
\end{e}

\begin{e}{Definice}{0}{NP-úplnı problém}
  Problém je \textbf{NP-úplnı}, pokud patøí do tøídy NP a je NP-tìkı.

\begin{e}{Poznámka}{0}{0}
NP-úplné problémy jsou nejtìší problémy v~NP. Opìt, stejnì jako u NP-tìkıch víme, e pokud na nìj cokoliv redukujeme, tak to cokoliv je $NP$.
%NP-úplné problémy se nám \uv{líbí} -- pokud u nìèeho ukáeme, e je NP-úplnı, víme, e je NP. Zároveò víme, e pokud u libovolného z~nich dokáeme, e je v~P, tak P=NP.
\end{e}
\end{e}

\begin{obecne}{Dùsledky}
  \begin{pitemize}
    \item Pokud je $A$ NP-tìkı a navíc je $A$ polynomiálnì redukovatelnı na $B$, tak je
      $B$ taky NP-tìkı.
\item Pokud je $A$ NP-tìkı a navíc je $B$ polynomiálnì redukovatelnı na $A$, tak je $A$ NP.
    \item Pokud existuje polynomiální algoritmus pro nìjakı NP-tìkı problém, pak
      existují polynomiální algoritmy pro všechny problémy ve tøídì NP. (tedy P=NP)
  \end{pitemize}
\end{obecne}

\begin{e}{Vìta}{0}{Cook-Levin 1971}
 Existuje NP-úplnı problém. (Dokázáno pro SAT)
\end{e}


\begin{obecne}{Pøíklady problémù ze tøídy NP}
  \begin{pitemize}
    \item \textbf{KLIKA}(úplnı podgraf)~-- Je dán neorientovanı graf $G$ a èíslo
    $k$. Existuje v $G$ úplnı podgraf velikosti aspoò $k$? - je zároveò NP-úplnı
    \item \textbf{HK}(Hamiltonovská krunice)~-- Je dán neorientovanı graf $G$.
    Existuje v $G$ Hamiltonovská krunice? - je zároveò NP-úplnı
    \item \textbf{BATOH}(Souèet podmnoiny)~-- Jsou dána pøirozená èísla $a_1,
    \dots, a_n,b$. Existuje podmnoina èísel $a_1,\dots,a_n$, její souèet je
    pøesnì $b$? - je zároveò NP-úplnı
	\item testování normálních forem v databázi, obarvení grafu, 3-SAT, celoèíselné lineární programování... - NP úplnı
	\item testování isomorfismu grafù (jsou 2 grafy izomorfní?) -- \textbf{není} NP-úplnı, ale není P.
	\item testování isomorfismu subgrafù (existuje v~grafu B subgraf isomorfní s A?) -- u je NP-úplnı
  \end{pitemize}
\end{obecne}

